import type { FormatConfig } from "./connection";
import type { AudioWorkletConfig } from "../BaseConversation";
export type InputConfig = {
    preferHeadphonesForIosDevices?: boolean;
    inputDeviceId?: string;
    onError?(message: string, context?: unknown): void;
};
export declare class Input {
    readonly context: AudioContext;
    readonly analyser: AnalyserNode;
    readonly worklet: AudioWorkletNode;
    inputStream: MediaStream;
    private mediaStreamSource;
    private permissions;
    private onError;
    static create({ sampleRate, format, preferHeadphonesForIosDevices, inputDeviceId, workletPaths, libsampleratePath, onError, }: FormatConfig & InputConfig & AudioWorkletConfig): Promise<Input>;
    private static getDeviceIdConstraint;
    private constructor();
    private forgetInputStreamAndSource;
    close(): Promise<void>;
    setMuted(isMuted: boolean): void;
    private settingInput;
    setInputDevice(inputDeviceId?: string): Promise<void>;
    private handlePermissionsChange;
}
